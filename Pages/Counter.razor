@page "/counter"
@using System.ComponentModel.DataAnnotations
<PageTitle>Counter</PageTitle>

<div class="container-narrow">
  <h1>Counter</h1>

  <div class="card">
    <div class="d-flex align-items-center justify-content-between">
      <div>
        <h2 class="mb-1">Current count</h2>
        <p class="text-muted mb-0">Click to increment and see simple event handling.</p>
      </div>
      <span class="badge-soft" style="font-weight:600; padding:.4rem .7rem;">@currentCount</span>
    </div>

    <div class="mt-3">
      <button class="btn btn-brand" @onclick="Increment">Click me</button>
    </div>
  </div>

  <div class="card">
    <h3 class="mb-2">Form Demo</h3>
    <p class="text-muted">Basic <code>EditForm</code> with data annotations validation.</p>

    <EditForm Model="@model" OnValidSubmit="Submit">
      <DataAnnotationsValidator />
      <ValidationSummary />

      <div class="mb-3">
        <label class="form-label">Name</label>
        <InputText class="form-control" @bind-Value="model.Name" placeholder="Enter your name" />
        <ValidationMessage For="() => model.Name" />
      </div>

      <button type="submit" class="btn btn-brand">Submit</button>
      @if (submittedName is not null)
      {
        <span class="ms-3 text-muted">Thanks, <strong>@submittedName</strong> 👋</span>
      }
    </EditForm>
  </div>
</div>

@code {
  int currentCount;
  MyModel model = new();
  string? submittedName;

  void Increment() => currentCount++;

  void Submit() => submittedName = model.Name;

  class MyModel
  {
    [Required]
    public string? Name { get; set; }
  }
}
